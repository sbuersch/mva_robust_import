<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<!-- Material Icons -->
		<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
		<!-- Roboto -->
		<link
			rel="stylesheet"
			href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,600,700"
		/>
		<!-- Roboto Mono -->
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono" />
		<!-- SMUI -->
		<link rel="stylesheet" href="/smui.css" />
		<!-- Winbox -->
		<link rel="preload" href="/winbox.bundle.min.js" as="script" />
		<!-- Other -->
		<link rel="icon" href="%sveltekit.assets%/favicon.png" />
		<meta name="viewport" content="width=device-width" />
		<style>
			html,
			body {
				margin: 0;
				padding: 0;
				height: 100%;
			}

			.wb-header {
				background-color: #183152;
			}
		</style>
		%sveltekit.head%
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">%sveltekit.body%</div>

		<script src="/winbox.bundle.min.js" async></script>
		<script>
			// Create winbox when expand button is clicked
			function createWinBox(title, containerClass) {
				const expandButton = document.querySelector(`#${containerClass}-expand`);
				const container = document.querySelector(`.${containerClass}-container`);

				if (expandButton) {
					expandButton.addEventListener('click', () => {
						expandButton.style.display = 'none';
						const winBox = new WinBox({
							title: title,
							width: `${screen.width * 0.8}px`,
							height: `${screen.height * 0.8}px`,
							html: container.innerHTML,
							onfocus: () => {
								console.log('opened');
							},
							onblur: () => {
								expandButton.style.display = 'block';
							}
						});
					});
				}
			}
			// Call the function for each WinBox window
			createWinBox('Scatterplot Matrix View (Expanded)', 'splom');
			createWinBox('Scatterplot View (Expanded)', 'scatterplot');
			createWinBox('Similarity Map View (Expanded)', 'simmap');
			createWinBox('Table View (Expanded)', 'table');
			createWinBox('Parallel Coordinates View (Expanded)', 'parcoord');
		</script>
	</body>
</html>
